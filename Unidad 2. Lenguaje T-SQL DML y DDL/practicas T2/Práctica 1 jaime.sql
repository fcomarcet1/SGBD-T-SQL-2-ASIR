-- BASE DE DATOS CLINICA
CREATE DATABASE CLINICA

CREATE TABLE PACIENTES (
    CODIGO SMALLINT NOT NULL PRIMARY KEY,
    NOMBRE NVARCHAR(30) NULL,
    DIRECCION NVARCHAR(20) NULL,
    CIUDAD NVARCHAR(15) NULL,
    TELEFONO NVARCHAR(10) NULL,
    DIABETICO BIT NOT NULL,
    FECHANAC DATE NULL,
    TURNO SMALLINT NULL
);

INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30001, 'Jose Gonzalez', 'Paseo Agran', 'ALICANTE', '856262515', 0, '10-08-1990', 1);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30002, 'Federico Rodriguez', 'Travesía Desarraconàvem', 'VILLAJOYOSA', '843846078', 0, '10-01-1965', 2);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30003, 'Gabriel García', 'Constitució n17 4B', 'SAN JUAN', '744671599', 0, '13-03-1967', 3);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30004, 'Ana Tuent',' C. Comercial Flitam', 'SAN JUAN', '680090786', 0, '14-04-1989', 1);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30005, 'Luisa Gómez', 'Carrer Omprometre, 134B 9A', 'EL CAMPELLO', '767031177', 0, '15-07-1983', 2);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30006, 'Maria Navarro', 'Carrera Destarotem', 'EL CAMPELLO', '767031177', 1, '16-01-1954', 3);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30007, 'Elena Giner', 'Pasadizo Inventariesses', 'ALICANTE', '877280026', 1, '17-12-1948', 1);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30012, 'Javier Satorres', 'Camino Desnieris', 'MUTXAMEL', '765293339', 1, '18-11-1991', 2);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30014, 'Jorge Beltrán', 'Rambla Convulsàssim', 'SAN JUAN', '656742684', 1, '21-11-1978', 3);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30015, 'Beatriz Rico', 'Walia, 21',' VILLAJOYOSA', '965636585', 1, '23-12-1974', 1);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30016, 'Roberto Saez', 'Macarena n23', 'ALICANTE', '965634041', 1, '24-03-1969', 1);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30017, 'Emilio Pérez', 'Alfonso Pesquera', 'ALICANTE', '965635815', 0, '26-05-1984', 2);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30018, 'Sandra Belda', 'San Pedro', 'VILLAJOYOSA', '753633365', 1, '27-06-1983', 2);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30026, 'Laura Pastor', 'Prolongación Salud', 'MUTXAMEL', '616975467', 0, '07-09-1963', 1);
INSERT INTO PACIENTES (CODIGO, NOMBRE, DIRECCION, CIUDAD, TELEFONO, DIABETICO, FECHANAC, TURNO) VALUES (30099, 'David Ramirez','Sant Rafael', 'ALICANTE', '786261666', 1, '01-03-1972', 1);



CREATE TABLE VISITAS (
    NUMVISITA INT NOT NULL PRIMARY KEY,
    CODPACIENTE SMALLINT NULL,
    FECHA DATE NULL,
    ENFERMEDAD NVARCHAR(25) NULL,
    IMPORTE INT NULL,
    PORCENTAJEPAGO SMALLINT NULL,
    PROXVISITA DATE NULL,
-- AQUI AÑADIMOS LA CLAVE FORÁNEA DE LA TABLA PACIENTES
    CONSTRAINT fk_CODPACIENTEVISITAS_CODIGOPACIENTES FOREIGN KEY (CODIGO) REFERENCES PACIENTES,
);

INSERT INTO VISITAS VALUES (1,30001,'09-12-2019','Úlcera',50,50,'11-12-2019');
INSERT INTO VISITAS VALUES (2,30001,'15-02-2019','Migrañas',50,25,'15-05-2019');
INSERT INTO VISITAS VALUES (3,30002,'19-06-2019','Cistitis',40,60,'19-07-2019');
INSERT INTO VISITAS VALUES (4,30004,'15-05-2019','Anemia',80,40,'15-09-2019');
INSERT INTO VISITAS VALUES (5,30005,'21-10-2019','Gripe',60,30,'21-12-2019');
INSERT INTO VISITAS VALUES (6,30006,'08-01-2019','Amigdalitis',60,50,'11-01-2019');
INSERT INTO VISITAS VALUES (7,30007,'08-08-2019','Herpes',50,70,'12-08-2019');
INSERT INTO VISITAS VALUES (8,30012,'07-04-2019','Otitis',80,80,'10-04-2019');
INSERT INTO VISITAS VALUES (9,30014,'06-07-2019','Migrañas',60,55,'07-07-2019');
INSERT INTO VISITAS VALUES (10,30015,'2019-02-09','Herpes',50,15,'06-09-2019');
INSERT INTO VISITAS VALUES (11,30016,'14-05-2019','Anemia',45,20,'14-09-2019');
INSERT INTO VISITAS VALUES (12,30017,'13-01-2019','Anemia',67,50,'13-06-2019');
INSERT INTO VISITAS VALUES (13,30018,'04-04-2019','Herpes',100,25,'05-04-2019');
INSERT INTO VISITAS VALUES (14,30026,'03-08-2019','Migrañas',50,60,'07-08-2019');
INSERT INTO VISITAS VALUES (15,30099,'23-06-2019','Otitis',40,40,'23-10-2019');
INSERT INTO VISITAS VALUES (16,30007,'21-09-2019','Gripe',80,30,'21-11-2019');
INSERT INTO VISITAS VALUES (17,30002,'22-02-2019','Gripe',60,50,'22-12-2019');
INSERT INTO VISITAS VALUES (18,30004,'30-06-2019','Migrañas',50,70,'30-07-2019');
INSERT INTO VISITAS VALUES (19,30007,'25-05-2017','Gripe',70,80,'25-08-2017');
INSERT INTO VISITAS VALUES (20,30005,'14-11-2017','Anemia',100,55,'14-03-2018');
INSERT INTO VISITAS VALUES (21,30004,'15-08-2017','Gripe',40,15,'15-09-2017');
INSERT INTO VISITAS VALUES (22,30004,'21-08-2017','Otitis',80,20,'21-10-2017');
INSERT INTO VISITAS VALUES (23,30012,'23-07-2017','Amigdalitis',60,50,'23-09-2017');
INSERT INTO VISITAS VALUES (25,30014,'28-12-2018','Amigdalitis',60,25,'28-03-2019');
INSERT INTO VISITAS VALUES (28,30015,'29-11-2018','Gripe',50,60,'29-01-2019');
INSERT INTO VISITAS VALUES (30,30016,'30-10-2018','Herpes',80,40,'30-11-2018');
INSERT INTO VISITAS VALUES (34,30017,'30-01-2018','Migrañas',60,30,'30-03-2018');
INSERT INTO VISITAS VALUES (35,30018,'26-04-2018','Asma',50,50,'26-05-2018');
INSERT INTO VISITAS VALUES (36,30026,'21-03-2018','Gripe',45,70,'21-06-2018');
INSERT INTO VISITAS VALUES (37,30026,'15-06-2018','Asma',67,80,'15-07-2018');
INSERT INTO VISITAS VALUES (38,30002,'15-12-2018','Asma',100,55,'15-01-2019');
INSERT INTO VISITAS VALUES (39,30004,'10-02-2018','Gripe',80,15,'10-03-2018');
INSERT INTO VISITAS VALUES (42,30018,'03-12-2018','Esguince',90,50,'05-03-2019');
INSERT INTO VISITAS VALUES (45,30015,'15-07-2018','Anemia',60,70,'15-09-2018');
INSERT INTO VISITAS VALUES (46,30012,'04-10-2018','Alergia',120,80,'12-04-2018');
INSERT INTO VISITAS VALUES (47,30015,'06-01-2018','Gripe',50,55,'03-06-2018');
INSERT INTO VISITAS VALUES (48,30018,'04-02-2018','Alergia',70,50,'05-04-2018');
INSERT INTO VISITAS VALUES (49,30026,'01-07-2018','Esguince',100,25,'08-01-2018');
INSERT INTO VISITAS VALUES (50,30012,'08-06-2018','Gripe',40,70,'08-08-2018');
INSERT INTO VISITAS VALUES (60,30014,'09-03-2018','Amigdalitis',80,80,'05-09-2018');
INSERT INTO VISITAS VALUES (61,30015,'02-04-2019','Alergia',60,30,'06-02-2019');
INSERT INTO VISITAS VALUES (62,30014,'12-10-2019','Gripe',60,50,'11-12-2019');
INSERT INTO VISITAS VALUES (63,30018,'19-06-2019','Esguince',50,70,'19-07-2019');
INSERT INTO VISITAS VALUES (64,30014,'05-08-2019','Esguince',80,10,'10-05-2019');


-- BASE DE DATOS VIDEOCLUB
CREATE DATABASE VIDEOCLUB

CREATE TABLE ALQUILER (
    CODSOCIO INT NOT NULL PRIMARY KEY,
    CODSTOCK INT NOT NULL PRIMARY KEY,
    FSALIDA DATE NOT NULL,
    ESTADO SMALLINT NULL,
    CALIFICACION SMALLINT NULL
-- AÑADIMOS AQUI LAS CLAVES FORÁNEAS DE LAS TABLAS SOCIOS Y STOCK
    CONSTRAINT fk_CODIGOSOCIOALQUILER_CODIGOSOCIOS FOREIGN KEY (CODIGO) REFERENCES SOCIOS,
    CONSTRAINT fk_CODIGOSTOCKALQUILER_CODIGOSTOCK FOREIGN KEY (CODIGO) REFERENCES STOCK,
);

CREATE TABLE STOCK (
    CODIGO INT NOT NULL PRIMARY KEY,
    CODPELICULA INT NULL,
    FORMATO NVARCHAR(3) NULL,
-- AÑADIMOS AQUI LA CLAVE FORÁNEA DE LA TABLA PELICULAS
    CONSTRAINT fk_CODIGOPELICULASTOCK_CODIGOPELICULAS FOREIGN KEY (CODIGO) REFERENCES PELICULAS,
);

CREATE TABLE PELICULAS (
    CODIGO INT NOT NULL PRIMARY KEY,
    TITULO NVARCHAR(40) NULL,
    COMPAÑIA NVARCHAR(15) NULL,
    DURACION SMALLINT NULL,
    PRECIOCOMPRA MONEY NULL,
    PRECIOALQUILER MONEY NULL,
    MAXDIAS SMALLINT NULL,
    OFERTA REAL NULL,
    COMENTARIO NTEXT NULL
);

CREATE TABLE SOCIOS (
    CODIGO INT NOT NULL PRIMARY KEY,
    DNI NVARCHAR(9) NOT NULL,
    NOMBRE NVARCHAR(30) NOT NULL,
    APELLIDO NVARCHAR(40) NOT NULL,
    TELEFONO NVARCHAR(10) NOT NULL,
    FECHANAC DATE NULL,
    CLIENTEVIP BOOLEAN NULL
);

-- ¿METEMOS AQUÍ LOS INSERT DE LA BD 'PELICULA'?
-- EN LA PRÁCTICA NO HAY REGISTROS PARA INSERTAR
-- A LO MEJOR SERÁ EN OTRA PRÁCTICA TAL VEZ







-- BASE DE DATOS PROYECTOS --
CREATE DATABASE PROYECTOS

CREATE TABLE DEPARTAMENTOS (
    NOMRE NVARCHAR(4) NOT NULL PRIMARY KEY,
    CIUDAD NVARCHAR(50) NOT NULL,
    TELEFONO NVARCHAR(9) NOT NULL
);

INSERT INTO DEPARTAMENTOS VALUES ('DIR','BARCELONA','934226070');
INSERT INTO DEPARTAMENTOS VALUES ('DIR','GIRONA','972238970');
INSERT INTO DEPARTAMENTOS VALUES ('DIS','LLEIDA','973235040');
INSERT INTO DEPARTAMENTOS VALUES ('DIS','BARCELONA','932248523');
INSERT INTO DEPARTAMENTOS VALUES ('PROG','TARRAGONA','977333852');
INSERT INTO DEPARTAMENTOS VALUES ('PROG','GIRONA','972235091');


-- ####################################


CREATE TABLE CLIENTES (
    CODIGO INT NOT NULL PRIMARY KEY,
    NOMBRE NVARCHAR(50) NOT NULL,
    NIF NVARCHAR(9) NOT NULL,
    DIRECCION NVARCHAR (50) NOT NULL,
    CIUDAD NVARCHAR(50) NOT NULL,
    TELEFONO NVARCHAR(9) NULL
);

INSERT INTO CLIENTES VALUES (10,'SAB','38567893C','ARAGON 11','BARCELONA',NULL);
INSERT INTO CLIENTES VALUES (20,'CME','38123898E','VALENCIA 22','GIRONA','972235721');
INSERT INTO CLIENTES VALUES (30,'AMCE','36432127A','MALLORCA 33','LLEIDA','973234567');
INSERT INTO CLIENTES VALUES (60,'CEA','38226777D','PARIS 44','BARCELONA','934226077');


-- ####################################


CREATE TABLE EMPLEADOS (
    CODIGO INT NOT NULL PRIMARY KEY,
    NOMBRE NVARCHAR(50) NOT NULL,
    APELLIDO NVARCHAR(50) NOT NULL,
    SUELDO MONEY NULL,
    NOMBRE_DEP NVARCHAR(4) NOT NULL,
    CIUDAD NVARCHAR(50) NOT NULL,
    NUM_PROYECTO SMALLINT NOT NULL
-- AÑADIMOS AQUI LAS CLAVES FORÁNEAS DE LAS TABLAS PROYECTOS Y DEPARTAMENTOS
    CONSTRAINT fk_NOMBREDPEMPLEADO_NOMBREDEPDEPARTAMENTO FOREIGN KEY (NOMBRE_DEP) REFERENCES DEPARTAMENTOS,
    CONSTRAINT fk_CIUDADDPEMPLEADO_CIUDADDEPDEPARTAMENTO FOREIGN KEY (CIUDAD_DEP) REFERENCES DEPARTAMENTOS,
    CONSTRAINT fk_NUMPROEMPLEADO_NCODIGOPROPROYECTO FOREIGN KEY (CODIGO_PRO) REFERENCES PROYECTOS
);

INSERT INTO EMPLEADOS VALUES (1,'MARIA','PUIG',100000,'DIR','GIRONA',1);
INSERT INTO EMPLEADOS VALUES (2,'PEDRO','MAS',90000,'DIR','BARCELONA',4);
INSERT INTO EMPLEADOS VALUES (3, 'ANA','ROS',70000,'DIS','LEIDA',3);
INSERT INTO EMPLEADOS VALUES (4, 'JORGE','ROCA',70000,'DIS','BARCELONA',4);
INSERT INTO EMPLEADOS VALUES (5, 'CLARA','BLANC',40000,'PROG','TARRAGONA',1);
INSERT INTO EMPLEADOS VALUES (6,'LAURA','TORT',30000,'PROG','TARRAGONA',3);
INSERT INTO EMPLEADOS VALUES (7,'ROGELIO','SALT',40000,null,null,4);
INSERT INTO EMPLEADOS VALUES (8,'SERGIO','GRAU',30000,'PROG','TARRAGONA',NULL);

-- EJERCICIO 2.3: OBTEN LA SIENTENCIA PARA INCREMENTAR EL SUELDO DE TODOS LOS EMPLEADOS DEL PROYECTO 2 EN MIL EUROS.
UPDATE EMPLEADOS
SET SUELDO=SUELDO+1000
WHERE NUM_PROYECTO='2'

-- ################################################


CREATE TABLE PROYECTOS (
    CODIGO INT NOT NULL PRIMARY KEY,
    NOMBRE NVARCHAR(25) NOT NULL,
    PRECIO MONEY NULL,
    FECHA_INICIO DATE NULL,
    FECHA_PRE_FIN DATE NULL,
    CODIGO_CLI INT NOT NULL,
-- AÑADIMOS AQUI LA CLAVE FORÁNEA DE LA TABLA CLIENTE
    CONSTRAINT fk_CODIGOCLIPROYECTOS_CODIGOCLICLIENTES FOREIGN KEY (CODIGO_CLI) REFERENCES CLIENTES
);

INSERT INTO PROYECTOS VALUES (1,'GESCOM',1000000,'01-01-2017','01-01-2019',null,10);
INSERT INTO PROYECTOS VALUES (2,'TSB',2000000,'01-10-2018','31-03-2019','01-05-2019',10);
INSERT INTO PROYECTOS VALUES (3,'SALSA',1000000,'10-02-2017','01-02-2019',null,20);
INSERT INTO PROYECTOS VALUES (4,'TINELL',4000000,'01-01-2019','01-12-2020',null,30);

-- EJERCICIO 2.4: OBTÉN LA SENTENCIA PARA CAMBIAR LAS FECHAS DE INCIO QUE ESTÉN EN EL AÑO 2017, AL 2018.
UPDATE PROYECTOS
SET FECHA_INICIO='2018'
WHERE '2017'='2018'








-- BASE DE DATOS PIZZERIA
CREATE DATABASE PIZZERIA

CREATE TABLE PIZZAS (
NPIZZA VARCHAR(20) NOT NULL,
PRECIO DECIMAL(5,2) NOT NULL,
PRIMARY KEY (NPIZZA));

INSERT INTO PIZZAS VALUES ('Besubio',13.00);
INSERT INTO PIZZAS VALUES('Margarita',15.00);
INSERT INTO PIZZAS VALUES('Napolitana',18.00);
INSERT INTO PIZZAS VALUES('Vegetariana',10.50);
INSERT INTO PIZZAS VALUES('Boloñesa',12.50);
INSERT INTO PIZZAS VALUES('Simple',1.50);
INSERT INTO PIZZAS VALUES('Hawaiana',13.00);

-- ########################################

CREATE TABLE PREPARACION (
NPIZZA NVARCHAR(20) NOT NULL,
INGREDIENTE NVARCHAR(20) NOT NULL,
CANTIDAD DECIMAL (4,0) NOT NULL,
PRIMARY KEY (NPIZZA,INGREDIENTE),
-- AÑADIMOS LA CLAVE FORÁNEA REFERENTE A NPIZZA DE LA TABLA PIZZAS
CONSTRAINT fk_pre_NPizza FOREIGN KEY (NPIZZA) REFERENCES PIZZAS);

INSERT INTO PREPARACION VALUES ('Besubio','Huevos','2');
INSERT INTO PREPARACION VALUES('Besubio','Oregano','3');
INSERT INTO PREPARACION VALUES('Besubio','Pasta','10');
INSERT INTO PREPARACION VALUES('Besubio','Peperoni','46');
INSERT INTO PREPARACION VALUES('Besubio','Queso','10');
INSERT INTO PREPARACION VALUES('Besubio','Sal','34');
INSERT INTO PREPARACION VALUES('Besubio','Tomate','23');
INSERT INTO PREPARACION VALUES('Margarita','Jamon York','23');
INSERT INTO PREPARACION VALUES('Margarita','Oregano','5');
INSERT INTO PREPARACION VALUES('Margarita','Pasta','76');
INSERT INTO PREPARACION VALUES('Margarita','Queso','50');
INSERT INTO PREPARACION VALUES('Margarita','Tomate','20');
INSERT INTO PREPARACION VALUES('Napolitana','Botifarra','15');
INSERT INTO PREPARACION VALUES('Napolitana','Jamón York','34');
INSERT INTO PREPARACION VALUES('Napolitana','Oregano','15');
INSERT INTO PREPARACION VALUES('Napolitana','Queso','10');
INSERT INTO PREPARACION VALUES('Napolitana','Tomate','34');
INSERT INTO PREPARACION VALUES('Vegetariana','Alcachofas','45');
INSERT INTO PREPARACION VALUES('Vegetariana','Judias','4');
INSERT INTO PREPARACION VALUES('Vegetariana','Oregano','5');
INSERT INTO PREPARACION VALUES('Vegetariana','Queso','24');
INSERT INTO PREPARACION VALUES('Vegetariana','Tomate','15');
INSERT INTO PREPARACION VALUES('Hawaiana','Tomate','15');
INSERT INTO PREPARACION VALUES('Hawaiana','Piña','35');
INSERT INTO PREPARACION VALUES('Hawaiana','Ajo','15');
INSERT INTO PREPARACION VALUES('Boloñesa','Tomate','15');
INSERT INTO PREPARACION VALUES('Simple','Tomate','30');

-- ###################################################################

CREATE TABLE CLIENTE (
  CODCLIENTE INTEGER  NOT NULL,
  NOMBRE NVARCHAR(45) NOT NULL,
  PRIMARY KEY (CODCLIENTE)
);

INSERT INTO CLIENTE VALUES (1,'Alvaro');
INSERT INTO CLIENTE VALUES(2,'Lorena');
INSERT INTO CLIENTE VALUES(3,'Abdon');
INSERT INTO CLIENTE VALUES(4,'Fulano');
INSERT INTO CLIENTE VALUES(5,'Felipe');
INSERT INTO CLIENTE VALUES(6,'Josep');
INSERT INTO CLIENTE VALUES(7,'Ana');
INSERT INTO CLIENTE VALUES(8,'Mengano');

-- ####################################################################

CREATE TABLE VENTAS (
  NPIZZA NVARCHAR(20) NOT NULL,
  CODCLIENTE INTEGER NOT NULL,
  CODORDEN INTEGER NOT NULL,
  FECHA2 DATE NOT NULL,
  PRIMARY KEY (CODORDEN),
  -- AÑADIMOS LAS CLAVES FORÁNEAS REFERENTE A LAS TABLAS PIZZAS Y CLIENTE
  CONSTRAINT fk_VENTAS_NPIZZA FOREIGN KEY (NPIZZA) REFERENCES PIZZAS,
  CONSTRAINT fk_VENTAS_CLIENTE FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTE
);

INSERT INTO VENTAS VALUES ('Vegetariana',1,1,convert(DATE,'03-05-19',5));
INSERT INTO VENTAS VALUES ('Vegetariana',1,3,convert(DATE,'03-07-19',5));
INSERT INTO VENTAS VALUES ('Vegetariana',1,4,convert(DATE,'03-09-19',5));
INSERT INTO VENTAS VALUES ('Vegetariana',3,5,convert(DATE,'03-10-19',5));
INSERT INTO VENTAS VALUES ('Vegetariana',5,6,convert(DATE,'03-11-19',5));
INSERT INTO VENTAS VALUES ('Vegetariana',4,7,convert(DATE,'03-12-19',5));
INSERT INTO VENTAS VALUES ('Vegetariana',2,8,convert(DATE,'03-01-19',5));
INSERT INTO VENTAS VALUES ('Besubio',1,9,convert(DATE,'03-02-19',5));
INSERT INTO VENTAS VALUES ('Besubio',3,10,convert(DATE,'03-03-19',5));
INSERT INTO VENTAS VALUES ('Besubio',4,11,convert(DATE,'03-04-19',5));
INSERT INTO VENTAS VALUES ('Besubio',2,12,convert(DATE,'03-05-19',5));
INSERT INTO VENTAS VALUES ('Besubio',5,13,convert(DATE,'03-06-19',5));
INSERT INTO VENTAS VALUES ('Besubio',5,14,convert(DATE,'03-07-19 09',5));
INSERT INTO VENTAS VALUES ('Besubio',2,15,convert(DATE,'03-08-19',5));
INSERT INTO VENTAS VALUES ('Margarita',4,16,convert(DATE,'03-09-19',5));
INSERT INTO VENTAS VALUES ('Margarita',4,17,convert(DATE,'03-10-19',5));
INSERT INTO VENTAS VALUES ('Margarita',5,18,convert(DATE,'03-11-19',5));
INSERT INTO VENTAS VALUES ('Margarita',2,19,convert(DATE,'03-12-19',5));
INSERT INTO VENTAS VALUES ('Margarita',1,20,convert(DATE,'03-05-19',5));
INSERT INTO VENTAS VALUES ('Margarita',3,21,convert(DATE,'03-06-19',5));
INSERT INTO VENTAS VALUES ('Napolitana',2,22,convert(DATE,'03-07-19',5));
INSERT INTO VENTAS VALUES ('Napolitana',3,23,convert(DATE,'03-08-19',5));
INSERT INTO VENTAS VALUES ('Boloñesa',3,24,convert(DATE,'03-06-19',5));
INSERT INTO VENTAS VALUES ('Simple',2,25,convert(DATE,'03-07-19', 5));
INSERT INTO VENTAS VALUES ('Hawaiana',3,26,convert(DATE,'03-08-19',5));
INSERT INTO VENTAS VALUES ('Margarita',7,27,convert(DATE,'03-08-19',5));
INSERT INTO VENTAS VALUES ('Simple',8,28,convert(DATE,'03-07-19',5));
INSERT INTO VENTAS VALUES ('Simple',3,29,convert(DATE,'03-07-19',5));
INSERT INTO VENTAS VALUES ('Simple',3,30,convert(DATE,'03-07-19',5));
INSERT INTO VENTAS VALUES ('Simple',3,31,convert(DATE,'03-07-19',5));







-- BASE DE DATOS CONCESIONARIOS
CREATE DATABASE CONCESIONARIOS

CREATE TABLE CONCESIONARIO (
    CIF NVARCHAR(9) NOT NULL PRIMARY KEY,
    NOMBRE NVARCHAR(50) NOT NULL,
    CIUDAD NVARCHAR(50),
);

INSERT INTO CONCESIONARIO VALUES ('44543123','FERCAR','ALICANTE');
INSERT INTO CONCECIONARIO VALUES ('85543123','MULTI CAR','ALICANTE');
INSERT INTO CONCESIONARIO VALUES ('77323232','MOTOR SPORT','MURCIA');
INSERT INTO CONCESIONARIO VALUES ('85643123','BMW VILLA DE CAMPO','MADRID');
INSERT INTO CONCESIONARIO VALUES ('76543213','TODO MOTOR','MADRID');
INSERT INTO CONCESIONARIO VALUES ('98654678','TOPE GAMA','MADRID');
INSERT INTO CONCESIONARIO VALUES ('11232123','BMW BARNA','BARCELONA');
INSERT INTO CONCESIONARIO VALUES ('54345432','TOT TURBO','BARCELONA');
INSERT INTO CONCESIONARIO VALUES ('32323232','4 RODES','IBIZA');
INSERT INTO CONCESIONARIO VALUES ('56429642','GRANT TURISMO','ALICANTE');

-- ###################################


CREATE TABLE COCHES (
    CODIGO NVARCHAR(10) NOT NULL PRIMARY KEY,
    MODELO NVARCHAR(25) NOT NULL,
    MARCA  NVARCHAR(15) NOT NULL
);

INSERT INTO COCHES VALUES ('BMWe86','BMW SERIE 1','BMW');
INSERT INTO COCHES VALUES ('BMWe46','BMW SERIE 3','BMW');
INSERT INTO COCHES VALUES ('BMWe34','BMW SERIE 5','BMW');
INSERT INTO COCHES VALUES ('BMWm45','BMW SERIE 7','BMW');
INSERT INTO COCHES VALUES ('BMWm87','BMW SERIE 4','BMW');
INSERT INTO COCHES VALUES ('A3','AUDI A3','AUDI');
INSERT INTO COCHES VALUES ('A5','AUDI A5','AUDI');
INSERT INTO COCHES VALUES ('A6Q','AUDO A6 QUATTRO','AUDI');
INSERT INTO COCHES VALUES ('C4C','C4','CITROEN');
INSERT INTO COCHES VALUES ('C5C','C5','CITROEN');
INSERT INTO COCHES VALUES ('IBIZA','IBIZA','SEAT');
INSERT INTO COCHES VALUES ('KCEED','CEED','KIA');
INSERT INTO COCHES VALUES ('KSPORT','SPORTAGE','KIA');
INSERT INTO COCHES VALUES ('KRIO','RIO','KIA');
INSERT INTO COCHES VALUES ('NISQA','QASQAI','NISSAN');
INSERT INTO COCHES VALUES ('NISPU','PULSAR','NISSAN');

-- ######################################



CREATE TABLE CLIENTES (
    ID INT NOT NULL PRIMARY KEY,
    NOMBRE NVARCHAR(20) NOT NULL,
    APELLIDO NVARCHAR(25) NOT NULL,
    CIUDAD NVARCHAR(25) NOT NULL
);

INSERT INTO CLIENTES VALUES (24583143,'ALVARO','PEREZ','ALICANTE');
INSERT INTO CLIENTES VALUES (65344533,'SILVIA','GARCIA','ALICANTE');
INSERT INTO CLIENTES VALUES (44545433,'ABDON','BAÑON','MURCIA');
INSERT INTO CLIENTES VALUES (14123233,'RAQUEL','PEREZ','MADRID');
INSERT INTO CLIENTES VALUES (44567676,'FULGENCIO','OLIVER','LA ROMANA');
INSERT INTO CLIENTES VALUES (44599887,'JAVIER','ROMO','MADRID');
INSERT INTO CLIENTES VALUES (44512333,'MANUEL','IVORRA','MADRID');
INSERT INTO CLIENTES VALUES (67453423,'ALVARO','KAMEN','MADRID');
INSERT INTO CLIENTES VALUES (87643455,'SERGI','VILLAPLANA','ALICANTE');
INSERT INTO CLIENTES VALUES (76357844,'CARLES','PUIG','BARCELONA');
INSERT INTO CLIENTES VALUES (76411111,'ANTONI','PUNSET','IBIZA');
INSERT INTO CLIENTES VALUES (11111112,'CARLOS','PEREZ','VALENCIA');
INSERT INTO CLIENTES VALUES (22222222,'JOSE','JOVER','VALENCIA');
INSERT INTO CLIENTES VALUES (00000031,'FRANCISCO','ESTEVE','ZARAGOZA');

-- #########################################

CREATE TABLE VENTAS (
    CIF NVARCHAR(9) NOT NULL,
    DNI NVARCHAR(9) NOT NULL,
    COCHE NVARCHAR(10) NOT NULL,
    COLOR NVARCHAR(10) NOT NULL,
    FECHA DATE NOT NULL,
-- AÑADIMOS AQUÍ LAS CLAVES FORÁNEAS PERTENECIENTES A LAS TABLAS CLIENTES Y COCHES
    CONSTRAINT fk_DNIVENTAS_IDCLIENTES FOREIGN KEY (ID) REFERENCES CLIENTES,
    CONSTRAINT fk_COCHEVENTAS_CODCOCHES FOREIGN KEY (COD) REFERENCES COCHES
);

INSERT INTO VENTAS VALUES ('76543213','24583143','KRIO','ROJO','03-06-2016');
INSERT INTO VENTAS VALUES ('76543213','11111112','KRIO','BLANCO','23-06-2016');
INSERT INTO VENTAS VALUES ('44543123','24583143','BMWe86','ROJO','03-06-2016');
INSERT INTO VENTAS VALUES ('44543123','24583143','BMWe46','BLANCO','13-05-2016');
INSERT INTO VENTAS VALUES ('44543123','65344533','BMWe34','AZUL','23-04-2016');
INSERT INTO VENTAS VALUES ('85543123','65344533','NISPU','BLANCO','04-03-2016');
INSERT INTO VENTAS VALUES ('85543123','44545433','NISPU','ROJO','05-02-2016');
INSERT INTO VENTAS VALUES ('85543123','14123233','C4C','BLANCO','07-02-2016');
INSERT INTO VENTAS VALUES ('85543123','44599887','C4C','ROJO','13-03-2016');
INSERT INTO VENTAS VALUES ('85543123','44567676','C4C','AZUL','23-06-2016');
INSERT INTO VENTAS VALUES ('TE HAS QUEDADOI AQUI');


-- #########################################


CREATE TABLE DISTRIBUCION (
    CIF NVARCHAR(9) NOT NULL,
    CODIGO_COCHE NVARCHAR(10) NOT NULL,
    CANTIDAD SMALLINT NOT NULL,
-- AÑADIMOS AQUÍ LAS CLAVES FORÁNEAS PERTENECIENTES A LAS TABLAS CONCESIONARIO Y COCHES
    CONSTRAINT fk_CIFDIST_CIFCONCESIOANRIO FOREIGN KEY (CIF) REFERENCES CONCESIONARIO,
    CONSTRAINT fk_COCHEDIST_NOMBRECOCHES FOREIGN KEY (NOMBRE) REFERENCES COCHES
);

INSERT INTO DISTRIBUCION VALUES ('44543123','BMWe86',5);
INSERT INTO DISTRIBUCION VALUES ('44543123','BMWe46',15);
INSERT INTO DISTRIBUCION VALUES ('44543123','BMWe34',4);
INSERT INTO DISTRIBUCION VALUES ('85543123','NISPU',12);
INSERT INTO DISTRIBUCION VALUES ('85543123','BMWe45',21);
INSERT INTO DISTRIBUCION VALUES ('85543123','C4C',15);
INSERT INTO DISTRIBUCION VALUES ('77323232','A3',3);
INSERT INTO DISTRIBUCION VALUES ('77323232','KRIO',1);
INSERT INTO DISTRIBUCION VALUES ('76543213','KRIO',6);
INSERT INTO DISTRIBUCION VALUES ('77323232','C4C',2);
INSERT INTO DISTRIBUCION VALUES ('85643123','A6Q',3);
INSERT INTO DISTRIBUCION VALUES ('85653123','NISPU',4);
INSERT INTO DISTRIBUCION VALUES ('85653123','BMWe45',5);
INSERT INTO DISTRIBUCION VALUES ('76543213','C4C',6);
INSERT INTO DISTRIBUCION VALUES ('76543213','KCEED',7);
INSERT INTO DISTRIBUCION VALUES ('76543213','A3',8);
INSERT INTO DISTRIBUCION VALUES ('98654678','C4C',1);
INSERT INTO DISTRIBUCION VALUES ('98654678','A6Q',6);
INSERT INTO DISTRIBUCION VALUES ('98654678','KSPORT',8);
INSERT INTO DISTRIBUCION VALUES ('11232123','NISQA',9);
INSERT INTO DISTRIBUCION VALUES ('11232123','A3',14);
INSERT INTO DISTRIBUCION VALUES ('11232123','C5C','16');
INSERT INTO DISTRIBUCION VALUES ('54344532','BMWe45',15);
INSERT INTO DISTRIBUCION VALUES ('54345432','KSPORT',15);
INSERT INTO DISTRIBUCION VALUES ('54345432','A6Q',25);
INSERT INTO DISTRIBUCION VALUES ('32323232','NISQA',1);
INSERT INTO DISTRIBUCION VALUES ('32323232','KCEED',3);
INSERT INTO DISTRIBUCION VALUES ('32323232','IBIZA',0);


-- #########################################


CREATE TABLE MARCAS (
    CIF SMALLINT NOT NULL PRIMARY KEY,
    NOMBRE NVARCHAR(15) NOT NULL,
    CIUDAD NVARCHAR(50),
-- AÑADIMOS AQUÍ LA CLAVE FORÁNEA PERTENECIENTE A LA TABLA COCHES
    CONSTRAINT fk_NOMBREMARCAS_NOMBRECOCHES FOREIGN KEY (NOMBRE) REFERENCES COCHES
);

INSERT INTO MARCAS VALUES (1,'BMW','BARCELONA');
INSERT INTO MARCAS VALUES (2,'AUDI','MADRID');
INSERT INTO MARCAS VALUES (3,'CITROEN','VIGO');
INSERT INTO MARCAS VALUES (4,'SEAT','BARCELONA');
INSERT INTO MARCAS VALUES (5,'KIA','MADRID');
INSERT INTO MARCAS VALUES (6,'RENAULT','VALLALODID');
INSERT INTO MARCAS VALUES (7,'OPEL','ZARAGOZA');
INSERT INTO MARCAS VALUES (8,'FORD','VALENCIA');
INSERT INTO MARCAS VALUES (9,'MERCEDES','VITORIA');